# Image Search Application\n\nThis is a Flask application for image-based product search and inventory management, designed to run on Google Cloud Run with Google Cloud Storage for data persistence.\n\n## Features\n\n- Image-based product search using deep learning models\n- Product inventory management\n- Sales tracking\n- User authentication\n\n## Deployment to Google Cloud Run\n\n### Prerequisites\n\n1. Install and initialize the [Google Cloud SDK](https://cloud.google.com/sdk/docs/install)\n2. Install [Docker](https://docs.docker.com/get-docker/)\n3. Create a Google Cloud project\n4. Enable the Cloud Run and Cloud Storage APIs\n\n### Setup\n\n1. Create a Google Cloud Storage bucket:\n   ```bash\n   gsutil mb gs://your-bucket-name\n   ```\n\n2. Set up authentication by creating a service account:\n   ```bash\n   gcloud iam service-accounts create image-search-sa\n   gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \\\n       --member=\"serviceAccount:image-search-sa@YOUR_PROJECT_ID.iam.gserviceaccount.com\" \\\n       --role=\"roles/storage.objectAdmin\"\n   gcloud iam service-accounts keys create key.json \\\n       --iam-account=image-search-sa@YOUR_PROJECT_ID.iam.gserviceaccount.com\n   ```\n\n### Deploy\n\n1. Build the Docker image:\n   ```bash\n   gcloud builds submit --tag gcr.io/YOUR_PROJECT_ID/image-search\n   ```\n\n2. Deploy to Cloud Run:\n   ```bash\n   gcloud run deploy --image gcr.io/YOUR_PROJECT_ID/image-search \\\n       --platform managed \\\n       --set-env-vars GCS_BUCKET_NAME=your-bucket-name \\\n       --set-env-vars GOOGLE_APPLICATION_CREDENTIALS=key.json\n   ```\n\n### Environment Variables\n\n- `GCS_BUCKET_NAME`: The name of your Google Cloud Storage bucket\n- `GOOGLE_APPLICATION_CREDENTIALS`: Path to your service account key file (when running locally)\n\n## Local Development\n\n1. Install dependencies:\n   ```bash\n   pip install -r requirements.txt\n   ```\n\n2. Set environment variables:\n   ```bash\n   export GCS_BUCKET_NAME=your-bucket-name\n   export GOOGLE_APPLICATION_CREDENTIALS=path/to/your/key.json\n   ```\n\n3. Run the application:\n   ```bash\n   python app.py\n   ```\n\n## Notes\n\n- The application uses Google Cloud Storage to store both the SQLite database file and product images\n- When running locally, make sure you have valid Google Cloud credentials configured\n- The database is automatically initialized on first run